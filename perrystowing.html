<!doctype html>
<html>

<head>
    <title>Perry's Towing</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="leaflet/leaflet.css" />
    <script defer src="services.js"></script>
    <script src="leaflet/leaflet.js"></script>
    <script src="leaflet/leaflet-color-markers.js"></script>
</head>

<body>
    <div id="main_content">
        <div class="table_content">
            <div class="table_heading">
                <span class="table_content_header">Trucks</span>
                <span>
                    <button type="button" class="btn btn-primary float-right">Create Truck</button>
                </span>
            </div>
            <table id="truck_table" class="table table-striped table-hover">
                <thead>
                    <tr>
                        <td>#</td>
                        <td>Truck Id</td>
                        <td>Driver</td>
                        <td>Status</td>
                        <td># of Calls</td>
                        <td>Action</td>
                    </tr>
                </thead>
                <tbody>
                    <!--dynamically added-->
                </tbody>
            </table>
        </div>
        <div class="table_content">
            <div class="table_heading">
                <span class="table_content_header">Calls</span>
                <span>
                    <button type="button" class="btn btn-primary float-right" onclick="openCreateCallModal()">Create Call</button>
                </span>
            </div>
            <table id="call_table" class="table table-striped table-hover">
                <thead>
                    <tr>
                        <td>#</td>
                        <td>Call Id</td>
                        <td>Customer</td>
                        <td>P/U Location</td>
                        <td>D/O Location</td>
                        <td>Truck Id</td>
                        <td>Action</td>
                    </tr>
                </thead>
                <tbody>
                    <!--dynamically added-->
                </tbody>
            </table>
        </div>
    </div>
    <div id="assign_truck_modal">
        <div class="modal-content">
            <div>
                Select Truck:
            </div>
            <div>
                <select id="truck_selector">
                   <!--dynamically added-->
                </select>
            </div>
            <div class="assign_buttons">
                <div style="margin-bottom: 1em">
                    <button type="button" class="btn btn-warning" onclick="unAssignTruck(this)" style="width: 7em">Un-Assign</button>
                    <button id="assign_truck_submit" data-callid="" type="button" class="btn btn-success" onclick="assignTruck(this)" style="width: 7em"><i class="fa fa-check" aria-hidden="true">&nbsp;</i>Assign</button>
                </div>
                <div>
                    <button type="button" class="btn btn-danger" onclick="closeModal('assign_truck_modal')" style="width: 14em">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <div id="assign_call_modal">
        <div class="modal-content">
            <div>
                Select Call:
            </div>
            <div>
                <select id="call_selector">
                    <!--dynamically added-->
                </select>
            </div>
            <div class="assign_buttons">
                <button type="button" class="btn btn-danger" onclick="closeModal('assign_call_modal')" style="width: 7em">Cancel</button>
                <button id="assign_call_submit" data-truckid="" type="button" class="btn btn-success" onclick="assignCall(this)" style="width: 7em"><i class="fa fa-check" aria-hidden="true">&nbsp;</i>Assign</button>
            </div>
        </div>
    </div>
    <div id="create_call_modal">
        <div class="modal-content">
            <form id="create_call_form">
                <div class="row">
                    <div class="col">
                        First Name
                    </div>
                    <div class="col">
                        Last Name
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <input type="text" id="call_first_name">
                    </div>
                    <div class="col">
                        <input type="text" id="call_last_name">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        Pick Up Location
                    </div>
                    <div class="col">
                        Drop Off Location
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <input type="text" id="call_pick_up_location">
                    </div>
                    <div class="col">
                        <input type="text" id="call_drop_off_location">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        Key Location
                    </div>
                    <div class="col">
                        Call Type
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <select type="text" id="key_location_select">
                        <option value = "1">No Keys</option>
                        <option value = "2">Keys in Vehicle</option>
                        <option value = "3">Call for Keys</option>
                        <option value = "4">Keys at Destination</option>
                    </select>
                    </div>
                    <div class="col">
                        <select type="text" id="call_type_select">
                        <option value = "1">Tow</option>
                        <option value = "2">Tire Change</option>
                        <option value = "3">Unlock</option>
                        <option value = "4">Jump Start</option>
                        <option value = "5">Winch</option>
                        <option value = "6">Impound</option>
                    </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        Vehicle Make
                    </div>
                    <div class="col">
                        Vehicle Model
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <input type="text" id="call_vehicle_make">
                    </div>
                    <div class="col">
                        <input type="text" id="call_vehicle_model">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        Vehicle Year
                    </div>
                    <div class="col">
                        Payment Information
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <input type="text" id="call_vehicle_year">
                    </div>
                    <div class="col">
                        <select type="text" id="payment_information_select">
                        <option value = "1">Charge</option>
                        <option value = "2">Cash</option>
                        <option value = "3">Motor Club</option>
                    </select>
                    </div>
                </div>
                <div class="assign_buttons">
                    <button type="button" class="btn btn-danger" onclick="closeModal('create_call_modal')" style="width: 7em">Cancel</button>
                    <button id="create_call_submit" type="button" class="btn btn-success" style="width: 7em" onclick="createCall()"><i class="fa fa-check" aria-hidden="true">&nbsp;</i>Create</button>
                </div>
            </form>
        </div>
    </div>
    <hr>
    <div id="stateMap"></div>
</body>

</html>